var product = [{
    id: 1,
    img:'../final/img/sport1.webp',
    name: 'CODECHAOS 22 SPIKELESS SHOES',
    price: 4900,
    description: 'SPIKELESS GOLF SHOES MADE IN PART WITH RECYCLED MATERIALS\.It\'s time to turn up your game. Take the lead in these adidas Codechaos 22 golf shoes. With a design that amplifies everything a spikeless shoe can be, they set you up to shave strokes in style. From the stance stability of the wraparound outsole to the swing-boosting traction of Twist Grip and the energised feel of full-length BOOST, they maximise everything you need on the course. Tour-level performance has never looked like this before.',
    type: 'Sport',
}, {
    id: 2,
    img: 'final/img/sport2.webp',
    name: 'ULTRABOOST 22 SHOES',
    price: 7000,
    description: 'SAY HELLO TO INCREDIBLE ENERGY RETURN\.These Ultraboost running shoes serve up comfort and responsiveness. You\'ll be riding on a BOOST midsole for endless energy, with a Linear Energy Push system and a Continental™ Rubber outsole. This shoe\'s upper is made with a high-performance yarn which contains at least 50% Parley Ocean Plastic —  reimagined plastic waste, intercepted on remote islands, beaches, coastal communities and shorelines, preventing it from polluting our ocean.',
    type: 'Sport',
}, {
    id: 3,
    img: 'final/img/sport3.jpg',
    name: 'เป้าหุ่นชกมวย VIVA 1710A1',
    price: 22600,
    description: 'ฝึกซ้อมมวยได้อย่างเต็มกำลังด้วยเป้าหุ่นชกมวย จาก VIVA ดีไซน์ถูกออกแบบมาให้เสมือนคนจริง สร้างความรู้สึกเหมือนได้เข้าปะทะกับคู่ต่อสู้ตรงหน้า ให้คุณใส่ได้ทุกกระบวนท่าแบบไม่มียั้ง ตัวช่วยในการออกกำลังกายและฝึกซ้อมได้อย่างมีประสิทธิภาพ ทั้งยังเสริมสร้างความแข็งแกร่งของกล้ามเนื้อส่วนต่าง ๆ ได้เป็นอย่างดี ตอบโจทย์การใช้งานที่คุ้มค่า',
    type: 'Sport',
} , {
    id: 4,
    img: 'img/sport4.jpg',
    name: 'ฟุตซอลหนังเย็บ PU VIVA PURE เบอร์ 4',
    price: 860,
    description: 'โชว์ลีลาสกิลการเป็นนักเตะอย่างมืออาชีพด้วยลูกฟุตซอลหนัง จากแบรนด์ VIVA ด้วยการออกแบบดีไซน์ที่ทันสมัย ลวดลายสุดเท่ เพื่อเอาใจคอลูกหนัง พื้นผิวสัมผัสมีความยืดหยุ่นให้ความแม่นยำในการควบคุมทิศทางการเตะ การเลี้ยงลูก เตะลูกย้อย หรือการเตะไซด์โค้ง ผลิตจากวัสดุที่มีคุณภาพดีเพื่อประสิทธิภาพในการเตะได้มากขึ้น ให้แรงซัพพอร์ทอย่างเต็มเหนี่ยว มีขนาดกะทัดรัด เหมาะสำหรับกีฬาเตะฟุตซอล การฝึกซ้อม หรือใช้สำหรับเล่นในการแข่งขันตามความเหมาะสม พร้อมให้คุณสวมวิญญาณนักเตะได้อย่างคล่องแคล่วพร้อมโลดแล่นในสนามได้อย่างเต็มที่',
    type: 'Sport',
}, {
    id: 5,
    img: 'img/sport5.webp',
    name: 'ไม้ปิงปอง 1 คู่ และลูกปิงปอง 1 โหล VIVA',
    price: 675,
    description: 'ไม้ปิงปอง 1 คู่ และลูกปิงปอง 1 โหล VIVA ไม้ปิงปองพร้อมลูกปิงปอง จากแบรนด์ VIVA ดีไซน์ทันสมัย ผลิตจากวัสดุที่มีคุณภาพ มีความแข็งแรงทนทาน มาพร้อมด้ามจับกระชับถนัดมือ ออกแบบให้สะดวกต่อการใช้งาน เหมาะสำหรับการฝึกซ้อม หรือใช้สำหรับเล่นในการแข่งขันตามความเหมาะสม พร้อมให้คุณสามารถโชว์ลีลาการตีปิงปองได้อย่างเต็มประสิทธิภาพ',
    type: 'Sport',
}, {
    id: 6,
    img: 'img/sport6.jpg',
    name: 'ลูกบาสเกตบอล VIVA รุ่น SLAM DUNK เบอร์ 7',
    price: 243,
    description: 'โชว์ลีลาการเป็นนักบาสอย่างมืออาชีพด้วยลูกบาสเกตบอล จากแบรนด์ VIVA ผลิตจากวัสดุที่มีคุณภาพ มีความทนทาน รับแรงกระแทกได้ดี ขนาดมาตรฐาน พื้นผิวสัมผัสพอดีกับมือ ทำให้มีประสิทธิภาพในการเล่น การชูต การเลี้ยงลูก และการส่งลูก เหมาะสำหรับการฝึกซ้อม หรือใช้สำหรับเล่นในการแข่งขันตามความเหมาะสม',
    type: 'Sport',
}, {
    id: 7,
    img: 'img/sport7.jpg',
    name: 'นวมชกมวย VIVA VELCRO 4 ออนซ์ สีน้ำเงิน',
    price: 675,
    description: 'เสริมทักษะศิลปะการต่อสู้ให้ดียิ่งขึ้น ด้วยนวมชกมวย จากแบรนด์ VIVA อุปกรณ์ฝึกซ้อมมวยทั้งไทย และสากล ผลิตจากหนังคุณภาพสูง ทนทาน สวมใส่สบาย ให้คุณออกท่าทางการชกมวยได้อย่างมืออาชีพ และยังช่วยป้องกันอันตรายที่อาจจะเกิดขึ้นกับมือ หรือนิ้วของคุณได้อีกด้วย',
    type: 'Sport',
} , {
    id: 8,
    img: 'img/sport8.jpg',
    name: 'ธงไลน์แมน VIVA 2 สี',
    price: 423,
    description: 'ธงไลน์แมน จากแบรนด์ VIVA มาพร้อมสีสันโดดเด่นช่วยให้มองเห็นได้ง่าย ผลิตจากวัสดุที่ได้มาตรฐาน มีความแข็งแรงทนทาน เป็นอุปกรณ์สำหรับผู้ตัดสิน ทำหน้าที่ดูแลกำกับเส้น ในการแข่งขันกีฬาต่าง ๆ เช่น กีฬาสี กีฬาภายในบริษัท เป็นต้น นอกจากนี้ยังสามารถประยุกต์ใช้งานได้หลากหลายโอกาสตามความเหมาะสม',
    type: 'Sport',
}, {
    id: 9,
    img: 'img/sport9.jpg',
    name: 'ชุดมาร์คเกอร์โคน VIVA แพ็ก 40 ชิ้น',
    price: 720,
    description: 'ให้การฝึกซ้อมกีฬาต่าง ๆ มีประสิทธิภาพยิ่งขึ้นด้วยชุดมาร์คเกอร์โคน จาก VIVA ผู้ช่วยในการฝึกความคล่องตัวที่มีประสิทธิภาพ สามารถวางเพื่อกำหนดจุดต่าง ๆ ตามรูปแบบตำแหน่งที่ต้องการได้ทันที นอกจากนี้ยังมีสีสันที่สว่างสดใส ช่วยให้นักกีฬามองเห็นอุปกรณ์ได้อย่างชัดเจน เหมาะสำหรับการฝึกวิ่งบนสนามหญ้า หรือลานโล่งเป็นอย่างดี',
    type: 'Sport',
}, {
    id: 10,
    img: 'img/sport10.jpg',
    name: 'ลูกเทเบิลเทนนิสฝึกซ้อม 40 มม. VIVA สีขาว แพ็ก 12 ลูก',
    price: 216,
    description: 'ลูกเทเบิลเทนนิสฝึกซ้อม 40 มม. VIVA สีขาว แพ็ก 12 ลูกโชว์ลีลาการเป็นนักปิงปองได้อย่างมืออาชีพด้วยลูกเทเบิลเทนนิส รุ่นฝึกซ้อม จากแบรนด์ VIVA ออกแบบมาได้รับมาตรฐาน ผลิตมาจากวัสดุที่มีคุณภาพสามารถทนทานต่อการเล่นได้เป็นอย่างดี มีน้ำหนักเบา ขนาดกะทัดรัดจับกระชับมือ เพิ่มประสิทธิภาพในการเล่นมากยิ่งขึ้น บรรจุมาในกล่องจำนวน 12 ลูก พร้อมให้คุณฝึกซ้อมฝีมือได้อย่างเต็มที่',
    type: 'Sport',
},{
    id: 11,
    img: 'img/cloth1.webp',
    name: 'เสื้อยืด SUPIMA COTTON คอกลม แขนสั้น',
    price: 390,
    description: 'ทำจากผ้าซูพีมาคอตตอน 100% ที่สัมผัสได้ถึงคุณภาพระดับสูง ไอเทมแบบเรียบง่ายที่เข้าได้กับทุกสไตล์',
    type: 'Clothe',
},{
    id: 12,
    img: 'img/cloth2.webp',
    name: 'เสื้อเชิ้ตแจ็คเก็ต ผ้าเจอร์ซี่',
    price: 1490,
    description: 'ทรงหลวมเสริมสไตล์ในลุคสบายๆ ผ้าเจอร์ซี่น้ำหนักหนักเบาและสวมใส่สบาย',
    type: 'Clothe',
},{
    id: 13,
    img: 'img/cloth3.jpg',
    name: 'กระโปรง กางเกง ผ้าเดนิม',
    price: 990,
    description: 'กางเกงกระโปรงผ้าเดนิมที่สวมใส่ได้ทุกโอกาส ไอเทมที่ขาดไม่ได้สำหรับเสื้อผ้าประจำวัน',
    type: 'Clothe',
},{
    id: 14,
    img: 'img/cloth4.webp',
    name: 'เสื้อฮู้ด ผ้าสเวต แขนยาว มีซิป',
    price: 990,
    description: 'เสื้อฮู้ดผ้าสเวตที่ออกแบบมาให้ดูไม่เทอะทะ แขนเสื้อแบบ Raglan ช่วยให้เคลื่อนไหวได้สะดวก',
    type: 'Clothe',
},{
    id: 15,
    img: 'img/cloth5.webp',
    name: 'เสื้อกล้าม คอกระดุม แขนกุด ทรงครอป ลายนูน (Ribbed)',
    price: 290,
    description: 'เสื้อคอเฮนลีย์แต่งผ้าลายนูน สวมใส่สบาย',
    type: 'Clothe',
},{
    id: 16,
    img: 'img/cloth6.webp',
    name: 'เสื้อเชิ้ต ผ้า Slub คอตตอน แขนยาว ลายตาราง',
    price: 590,
    description: 'ผิวสัมผัสที่ดูเป็นธรรมชาติอันเป็นเอกลักษณ์ของเส้นใยสลาฟทำให้เสื้อเชิ้ตรุ่นนี้เหมาะสำหรับการแต่งตัวในสไตล์แคชชวล และยังสวมคลุมเป็นเสื้อตัวนอกได้อีกด้วย',
    type: 'Clothe',
},{
    id: 17,
    img: 'img/cloth7.webp',
    name: 'เสื้อฮู้ด ผ้าสเวต แขนยาว แบบสวมหัว',
    price: 1490,
    description: 'เนื้อผ้าผ่านการคัดสรรมาเป็นอย่างดีเพื่อสัมผัสที่เนียนนุ่มเป็นพิเศษ เสื้อสวมหัวผ้าสเวตแท้ที่เต็มเปี่ยมด้วยดีเทลสุดพิถีพิถัน',
    type: 'Clothe',
},{
    id: 18,
    img: 'img/cloth8.webp',
    name: 'เสื้อ Blouson Ma-1',
    price: 2490,
    description: 'เลือกสรรเนื้อผ้าอย่างพิถีพิถันเพื่อให้สัมผัสเป็นเอกลักษณ์ขนานแท้ ทรงพองสวมใส่ได้ทั้งผู้ชายและผู้หญิง',
    type: 'Clothe',
},{
    id: 19,
    img: 'img/cloth9.webp',
    name: 'GIRLS ชุดเดรส แขนยาว มีลาย',
    price: 590,
    description: 'ชุดกระโปรงแต่งระบายดูโปร่งในลุคหวานๆ มาพร้อมลายดอกไม้ขนาดเล็กดูลงตัว',
    type: 'Clothe',
},{
    id: 20,
    img: 'img/cloth3.webp',
    name: 'KIDS ชุดลำลอง AIRism Ultra Stretch แขนยาว',
    price: 790,
    description: '-',
    type: 'Clothe',
},{
    id: 21,
    img: 'img/e1.jpg',
    name: 'เครื่องซักผ้าฝาหน้า ELECTROLUX EWF9023BEWA 9 กก. อินเวอร์เตอร์ +ขาตั้ง',
    price: 20900,
    description: 'ระบบ Eco Inverter ของเครื่องซักผ้าฝาหน้า Electrolux ประหยัดพลังงาน เพิ่มประสิทธิภาพการซักสูงกว่า Inverter ทั่วไป ให้คุณมั่นใจในความสะอาดของผ้าที่คุณซักด้วย SensorWash ที่คอยตรวจวัดความสะอาดของเนื้อผ้าทุกกระบวนการซัก เหมาะสำหรับครอบครัวขนาดเล็ก (1-3)',
    type: 'Electronic',
},{
    id: 22,
    img: 'img/e2.webp',
    name: 'ตู้เย็น 2 ประตู ELECTROLUX ETB4600B-H 15.2 คิว อินเวอร์เตอร์ ดำ',
    price: 71590,
    description: 'ตู้เย็นช่องแช่แข็งอยู่ด้านบนรุ่น NutriFresh มีระบบ Inverter ภายในช่อง TasteLock Crisper ช่วยรักษาความชื้นให้พอดี อาหารที่เก็บในช่องนี้จึงคงความสดได้นานถึง 7 วัน และมีเทคโนโลยีฟิลเตอร์ NutriPlus ช่วยคงคุณค่าของสาารอาหาร และคงความสดของเนื้อสัมผัสของอาหารได้นานยิ่งขึ้น',
    type: 'Electronic',
},{
    id: 23,
    img: 'img/e10.webp',
    name: 'พัดลมสไลด์ 18 นิ้ว HATARI Slide Smart L1 สีขาว',
    price: 1658,
    description: 'พัดลมสไลด์ขนาด 18 นิ้ว HATARI ดีไซน์สวยงามทันสมัย ใช้งานง่ายควบคุมการทำงานด้วยรีโมทคอนโทรล ปรับแรงลมได้ถึง 5 ระดับ ให้แรงลมเย็นสบายทั่วถึง สามารถแสดงอุณหภูมิบริเวณโดยรอบได้ด้วยระบบ TEMPERATURE DISPLAY และมีระบบ NATURAL WIND ให้แรงลมแบบธรรมชาติ ทำงานแรงสลับกับเบาอัตโนมัติ ได้รับมาตรฐานประหยัดไฟเบอร์ 5 จากการไฟฟ้าฝ่ายผลิตแห่งประเทศไทย',
    type: 'Electronic',
},{
    id: 24,
    img: 'img/e3.webp',
    name: 'แอลอีดีทีวี 32 นิ้ว TCL (HD Ready) 32D3200',
    price: 3990,
    description: 'เข้าถึงทุกความบันเทิงอย่างสมบูรณ์แบบ ด้วยแอลอีดีทีวี จาก TCL ที่ให้ภาพคมชัดระดับ HD Ready รายละเอียดภาพประณีตสวยงามอย่างมีมิติ สีสันสดชัด เพลิดเพลินไปกับเนื้อหาแบบไม่มีสะดุดด้วยการแสดงผลที่รวดเร็ว ภาพเคลื่อนไหวสมูทอย่างเป็นธรรมชาติ มาพร้อมดีไซน์ตัวเครื่องแบบบางเฉียบ ช่วยยกระดับความสวยงาม สร้างความโดดเด่นแบบเรียบหรูให้กับพื้นที่ พร้อมสร้างความเพลิดเพลินให้กับครอบครัวของคุณ',
    type: 'Electronic',
},{
    id: 25,
    img: 'img/e4.jpg',
    name: 'ซาวด์บาร์ SAMSUNG HW-B450/XT',
    price: 5490,
    description: 'ยกระดับประสบการณ์เสียงของคุณด้วยเสียงเบสอันทรงพลังด้วยซาวด์บาร์ รุ่น HW-B450/XT จาก SAMSUNG ที่มาพร้อมซับวูฟเฟอร์ ซึ่งเน้นเสียงเบสเพื่อให้ได้เสียงอันน่าทึ่งที่ฟังดูหนักแน่นและลื่นหูกว่าเดิม เมื่อคุณต้องการปรับเสียงเบสขึ้นเพื่อเพิ่มความสมจริงให้อยู่ในระดับสูงสุด ให้เปิดใช้งานโหมด Bass Boost จะมอบเสียงเบสหนักแน่นทรงพลังในอีกระดับที่จะห้อมล้อมคุณด้วยช่วงเสียงที่เต็มอิ่มกว่าเดิม นอกจากนี้ Adaptive sound Lite จะวิเคราะห์แหล่งที่มาของเสียงอัตโนมัติ เพื่อปรับให้เหมาะสมกับคอนเทนต์แต่ละรายการมากที่สุด เพื่อประสบการณ์การฟังในแบบที่ไม่เคยสัมผัสมาก่อน',
    type: 'Electronic',
},{
    id: 26,
    img: 'img/e5.webp',
    name: 'เตารีดไอน้ำ ELECTROLUX E6SI3-61NW',
    price: 990,
    description: 'ช่วยให้การรีดผ้าของคุณเป็นเรื่องง่ายขึ้น ด้วยเตารีดไอน้ำ E6SI3-61NW จาก ELECTROLUX ที่ออกแบบมาด้วยดีไซน์สวยเรียบทันสมัย มีประสิทธิภาพการปล่อยไอน้ำสูงแม่นยำสม่ำเสมอช่วยให้รีดได้อย่างราบเรียบและรวดเร็ว หน้าเตารีดเคลือบเซรามิกอย่างดี รีดเรียบง่าย ไม่ติดเนื้อผ้า หัวเตารีดแบบปลายแหลมเข้าได้ทุกจุดที่รีดเรียบยาก มาพร้อมความพิเศษกับโปรแกรมการรีด 4 โปรแกรมช่วยให้รีดได้สะดวกมากขึ้น สามารถทำความสะอาดได้ง่ายด้วยระบบทำความสะอาดเตารีดที่ช่วยขจัดคราบตะกรันเพื่อไอน้ำที่แรงยาวนาน ตอบโจทย์การรีดผ้าได้กับเนื้อผ้าทุกชนิด ช่วยให้การรีดผ้าไม่ใช่เรื่องน่าเบื่ออีกต่อไป',
    type: 'Electronic',
},{
    id: 27,
    img: 'img/e6.webp',
    name: 'เตาแม่เหล็กไฟฟ้า ELECTROLUX ETD29KC',
    price: 1990,
    description: 'เปลี่ยนเรื่องการทำอาหารที่ยุ่งยากให้เป็นเรื่องง่ายด้วย เตาแม่เหล็กไฟฟ้า Electrolux รุ่น ETD29KC ที่มาพร้อมรูปแบบตั้งโต๊ะขนาดเล็กกะทัดรัด วัสดุผลิตจากกระจกที่มีความแข็งแรง ทนทานต่อความร้อนสูง โดยสามารถเลือกปรับความร้อนได้ถึง 8 ระดับ รวมทั้งตั้งเวลาการทำอาหารได้สูงสุด 180 นาที ตอบสนองไลฟ์สไตล์คนรุ่นใหม่ได้อย่างลงตัว สามารถใช้ในการทำอาหารต้ม ผัด แกง ทอด ได้อย่างมืออาชีพ',
    type: 'Electronic',
},{
    id: 28,
    img: 'img/e7.jpg',
    name: 'หม้อหุงข้าวMANUAL SHARP KSR19ST 1.8 ลิตร',
    price: 1479,
    description: 'หม้อหุงข้าว SHARP ความจุ 1.8 ลิตร วัสดุผลิตจากพลาสติก PE (Polyethylene) แข็งแรง ทนทานต่อความร้อนได้ดี ภายในตัวเครื่องเคลือบโพลิฟลอน ทำให้ข้าวไม่ติดหม้อ ที่มีความปลอดภัย ใช้งานได้ยาวนาน หุงข้าวได้หลากหลายชนิด สามารถใช้งานได้อย่างสะดวกสบาย ดูแลรักษา และทำความสะอาดได้ง่าย',
    type: 'Electronic',
},{
    id: 29,
    img: 'img/e8.webp',
    name: 'เตาอบเล็กแมนนวล NEWWAVE NW-OV90 12 ลิตร สีขาว',
    price: 1690,
    description: 'ให้คุณสนุกกับการทำอาหารมากยิ่งขึ้นด้วยเตาอบเล็ก ระบบแมนนวล จาก NEWWAVE มาพร้อมฟังก์ชันการทำงานที่ควบคุมง่าย มีประสิทธิภาพในการทำความร้อนได้ดี ส่งความร้อนได้อย่างทั่วถึง ทำให้อาหารสุกเร็วทันใจ รังสรรค์เมนูต่าง ๆ ได้อย่างสะดวกสบายมากยิ่งขึ้น นอกจากนี้ดีไซน์ที่ทันสมัย ยังช่วยเพิ่มสีสันและความมีชีวิตชีวาให้กับห้องครัวได้อย่างลงตัว',
    type: 'Electronic',
},{
    id: 30,
    img: 'img/e9.webp',
    name: 'แอร์เพดาน MITSUBISHI HEAVY DUTY FDT50CNVX-S1-WL 18857 บีทียู สีดำ',
    price: 55790,
    description: 'มอบความเย็นทั่วทุกตารางห้อง ด้วยแอร์เพดาน จาก MITSUBISHI HEAVY DUTY มีประสิทธิภาพสูงสุดในการทำงาน สามารถปรับทิศทางลมได้อิสระตามต้องการ เครื่องทำงานเงียบสนิท ไร้เสียงกวนใจ ส่งมอบความเย็นสบาย เพื่อให้คุณคลายร้อนได้ทุกเวลาที่ต้องการ',
    type: 'Electronic',
}];

// [{},{},{}] // length = 3

$(document).ready(() => {
    var html = '';
    for (let i = 0; i < product.length; i++) {
        html += `<div onclick="openProductDetail(${i})" class="product-items ${product[i].type}">
                    <img class="product-img" src="${product[i].img}" alt="">
                    <p style="font-size: 1.2vw;">${product[i].name}</p>
                    <p stlye="font-size: 1vw;">${ numberWithCommas(product[i].price) } THB</p>
                </div>`;
    }
    $("#productlist").html(html);

})

function numberWithCommas(x) {
    x = x.toString();
    var pattern = /(-?\d+)(\d{3})/;
    while (pattern.test(x))
        x = x.replace(pattern, "$1,$2");
    return x;
}

function searchsomething(elem) {
    // console.log('#'+elem.id)
    var value = $('#'+elem.id).val()
    console.log(value)

    var html = '';
    for (let i = 0; i < product.length; i++) {
        if( product[i].name.includes(value) ) {
            html += `<div onclick="openProductDetail(${i})" class="product-items ${product[i].type}">
                    <img class="product-img" src="${product[i].img}" alt="">
                    <p style="font-size: 1.2vw;">${product[i].name}</p>
                    <p stlye="font-size: 1vw;">${ numberWithCommas(product[i].price) } THB</p>
                </div>`;
        }
    }
    if(html == '') {
        $("#productlist").html(`<p>Not found product</p>`);
    } else {
        $("#productlist").html(html);
    }

}

function searchproduct(param) {
    console.log(param)
    $(".product-items").css('display', 'none')
    if(param == 'ALL') {
        $(".product-items").css('display', 'block')
    }
    else {
        $("."+param).css('display', 'block')
    }
}

var productindex = 0;
function openProductDetail(index) {
    productindex = index;
    console.log(productindex)
    $("#modalDesc").css('display', 'flex')
    $("#mdd-img").attr('src', product[index].img);
    $("#mdd-name").text(product[index].name)
    $("#mdd-price").text( numberWithCommas(product[index].price) + ' THB')
    $("#mdd-desc").text(product[index].description)
}

function closeModal() {
    $(".modal").css('display','none')
}

var cart = [];
function addtocart() {
    var pass = true;

    for (let i = 0; i < cart.length; i++) {
        if( productindex == cart[i].index ) {
            console.log('found same product')
            cart[i].count++;
            pass = false;
        }
    }

    if(pass) {
        var obj = {
            index: productindex,
            id: product[productindex].id,
            name: product[productindex].name,
            price: product[productindex].price,
            img: product[productindex].img,
            count: 1
        };
        // console.log(obj)
        cart.push(obj)
    }
    console.log(cart)

    Swal.fire({
        icon: 'success',
        title: 'Add ' + product[productindex].name + ' to cart !'
    })
    $("#cartcount").css('display','flex').text(cart.length)
}

function openCart() {
    $('#modalCart').css('display','flex')
    rendercart();
}

function rendercart() {
    if(cart.length > 0) {
        var html = '';
        for (let i = 0; i < cart.length; i++) {
            html += `<div class="cartlist-items">
                        <div class="cartlist-left">
                            <img src="${cart[i].img}" alt="">
                            <div class="cartlist-detail">
                                <p style="font-size: 1.5vw;">${cart[i].name}</p>
                                <p style="font-size: 1.2vw;">${ numberWithCommas(cart[i].price * cart[i].count) } THB</p>
                            </div>
                        </div>
                        <div class="cartlist-right">
                            <p onclick="deinitems('-', ${i})" class="btnc">-</p>
                            <p id="countitems${i}" style="margin: 0 20px;">${cart[i].count}</p>
                            <p onclick="deinitems('+', ${i})" class="btnc">+</p>
                        </div>
                    </div>`;
        }
        $("#mycart").html(html)
    }
    else {
        $("#mycart").html(`<p>Not found product list</p>`)
    }
}

function deinitems(action, index) {
    if(action == '-') {
        if(cart[index].count > 0) {
            cart[index].count--;
            $("#countitems"+index).text(cart[index].count)

            if(cart[index].count <= 0) {
                Swal.fire({
                    icon: 'warning',
                    title: 'Are you sure to delete?',
                    showConfirmButton: true,
                    showCancelButton: true,
                    confirmButtonText: 'Delete',
                    cancelButtonText: 'Cancel'
                }).then((res) => {
                  if(res.isConfirmed) {
                     cart.splice(index, 1) 
                     console.log(cart)
                     rendercart();
                     $("#cartcount").css('display','flex').text(cart.length)
                     
                     if(cart.length <= 0) {
                        $("#cartcount").css('display','none')
                     }
                  }  
                  else {
                    cart[index].count++;
                    $("#countitems"+index).text(cart[index].count)
                    rendercart();
                  }
                })
            }
            rendercart();
        }
        
    }
    else if(action == '+') {
        cart[index].count++;
        $("#countitems"+index).text(cart[index].count)
        rendercart();
    }
}
